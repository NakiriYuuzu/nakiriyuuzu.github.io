import{d as z,f as F,s as A,g as B,o as I,r as x,a as R,c as d,b as u,i as T,l as g,j as L,k as W,F as N,m as V,n as m,e as b,_ as $}from"./index-DikQH15q.js";const H={class:"experience-nodes"},X=z({__name:"ExperienceScene",setup(j){const y=F(),{sectionProgress:w}=A(y),{shouldEnableParticles:v}=B(),S=b(()=>w.value.experience||0),i=x([]),o=x(null);let c=null,n=null;const p=["#22C55E","#3B82F6","#8B5CF6"],P=()=>{i.value=[];for(let e=0;e<30;e++)i.value.push({id:e,x:0,y:0,progress:Math.random(),speed:.001+Math.random()*.002,size:2+Math.random()*3,color:p[Math.floor(Math.random()*p.length)]??"#22C55E"})},f=(e,t,a)=>{const s=t/2,r=e*a,C=Math.sin(e*Math.PI*3)*100;return{x:s+C,y:r}},_=(e,t)=>{i.value.forEach(a=>{a.progress+=a.speed,a.progress>1&&(a.progress=0);const s=f(a.progress,e,t);a.x=s.x,a.y=s.y})},M=(e,t)=>{if(!n)return;n.beginPath(),n.strokeStyle="rgba(34, 197, 94, 0.2)",n.lineWidth=2;for(let s=0;s<=1;s+=.01){const r=f(s,e,t);s===0?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y)}n.stroke();const a=n.createLinearGradient(0,0,0,t);a.addColorStop(0,"rgba(139, 92, 246, 0.3)"),a.addColorStop(.5,"rgba(59, 130, 246, 0.3)"),a.addColorStop(1,"rgba(34, 197, 94, 0.3)"),n.strokeStyle=a,n.lineWidth=4,n.filter="blur(8px)",n.stroke(),n.filter="none"},k=()=>{n&&i.value.forEach(e=>{n.beginPath(),n.arc(e.x,e.y,e.size,0,Math.PI*2),n.fillStyle=e.color,n.globalAlpha=.8,n.fill(),n.beginPath(),n.arc(e.x,e.y,e.size*2,0,Math.PI*2),n.fillStyle=e.color,n.globalAlpha=.2,n.fill(),n.globalAlpha=1})},h=()=>{if(!o.value||!n)return;const{width:e,height:t}=o.value;n.clearRect(0,0,e,t),M(e,t),_(e,t),k(),c=requestAnimationFrame(h)},l=()=>{const e=o.value;if(!e)return;const t=window.devicePixelRatio||1;e.width=window.innerWidth*t,e.height=window.innerHeight*t,e.style.width=`${window.innerWidth}px`,e.style.height=`${window.innerHeight}px`,n&&n.scale(t,t),P()};I(()=>{if(!v.value)return;const e=o.value;e&&(n=e.getContext("2d"),n&&(l(),h(),window.addEventListener("resize",l)))}),R(()=>{c&&cancelAnimationFrame(c),window.removeEventListener("resize",l)});const E=b(()=>{const e=S.value;return e<.1?e*10:1});return(e,t)=>(u(),d("div",{class:"experience-scene",style:m({opacity:E.value})},[W(v)?(u(),d("canvas",{key:0,ref_key:"canvasRef",ref:o,class:"experience-canvas","aria-hidden":"true"},null,512)):T("",!0),g("div",H,[(u(),d(N,null,V(5,a=>g("div",{key:a,class:"experience-node",style:m({"--index":a,"--delay":`${a*.2}s`})},null,4)),64))]),t[0]||(t[0]=L('<div class="experience-bands" data-v-b9271a46><div class="experience-band experience-band--past" data-v-b9271a46></div><div class="experience-band experience-band--present" data-v-b9271a46></div><div class="experience-band experience-band--future" data-v-b9271a46></div></div><div class="experience-gradient" data-v-b9271a46></div>',2))],4))}}),G=$(X,[["__scopeId","data-v-b9271a46"]]);export{G as default};
