import{d as S,u as B,o as m,r as y,a as E,w as k,c as C,b,e as g,_ as P,f as F,s as A,g as H,h as I,i as $,j as D,k as T,n as W}from"./index-DikQH15q.js";const j=S({__name:"ParticleSystem",props:{count:{default:50},colors:{default:()=>["#22C55E","#3B82F6","#8B5CF6"]},symbols:{default:()=>[]},speed:{default:.5},sizeRange:{default:()=>[2,6]},connectDistance:{default:100},showConnections:{type:Boolean,default:!1}},setup(w){const n=w,a=y(null),s=y([]),{recommendedParticleCount:c,prefersReducedMotion:h}=B();let u=null,o=null;const v=g(()=>Math.min(n.count,c.value)),i=()=>{const e=a.value;if(e){s.value=[];for(let t=0;t<v.value;t++){const r=n.colors[Math.floor(Math.random()*n.colors.length)]??"#22C55E",l=n.symbols.length>0?n.symbols[Math.floor(Math.random()*n.symbols.length)]:void 0;s.value.push({id:t,x:Math.random()*e.width,y:Math.random()*e.height,vx:(Math.random()-.5)*n.speed,vy:(Math.random()-.5)*n.speed,size:n.sizeRange[0]+Math.random()*(n.sizeRange[1]-n.sizeRange[0]),opacity:.3+Math.random()*.5,color:r,symbol:l})}}},d=e=>{o&&(o.save(),o.globalAlpha=e.opacity,e.symbol?(o.fillStyle=e.color,o.font=`${e.size*3}px 'JetBrains Mono', monospace`,o.textAlign="center",o.textBaseline="middle",o.fillText(e.symbol,e.x,e.y)):(o.beginPath(),o.arc(e.x,e.y,e.size,0,Math.PI*2),o.fillStyle=e.color,o.fill()),o.restore())},z=()=>{if(!(!o||!n.showConnections))for(let e=0;e<s.value.length;e++)for(let t=e+1;t<s.value.length;t++){const r=s.value[e],l=s.value[t];if(!r||!l)continue;const p=r.x-l.x,_=r.y-l.y,M=Math.sqrt(p*p+_*_);M<n.connectDistance&&(o.save(),o.globalAlpha=(1-M/n.connectDistance)*.2,o.strokeStyle=r.color,o.lineWidth=.5,o.beginPath(),o.moveTo(r.x,r.y),o.lineTo(l.x,l.y),o.stroke(),o.restore())}},R=()=>{const e=a.value;e&&s.value.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.x<-20&&(t.x=e.width+20),t.x>e.width+20&&(t.x=-20),t.y<-20&&(t.y=e.height+20),t.y>e.height+20&&(t.y=-20)})},x=()=>{!a.value||!o||(o.clearRect(0,0,a.value.width,a.value.height),h.value||R(),n.showConnections&&z(),s.value.forEach(d),u=requestAnimationFrame(x))},f=()=>{const e=a.value;if(!e)return;const t=window.devicePixelRatio||1;e.width=window.innerWidth*t,e.height=window.innerHeight*t,e.style.width=`${window.innerWidth}px`,e.style.height=`${window.innerHeight}px`,o&&o.scale(t,t),i()};return m(()=>{const e=a.value;e&&(o=e.getContext("2d"),o&&(f(),x(),window.addEventListener("resize",f)))}),E(()=>{u&&cancelAnimationFrame(u),window.removeEventListener("resize",f)}),k([()=>n.count,()=>n.colors],()=>{i()},{deep:!0}),(e,t)=>(b(),C("canvas",{ref_key:"canvasRef",ref:a,class:"particle-system","aria-hidden":"true"},null,512))}}),q=P(j,[["__scopeId","data-v-6e49a577"]]),L=S({__name:"HeroScene",setup(w){const n=F(),{sectionProgress:a}=A(n),{shouldEnableParticles:s}=H();m(()=>{console.log("[HeroScene] Mounted - shouldEnableParticles:",s.value)});const c=g(()=>a.value.hero||0),h=["</","/>","{","}","()","=>","[]","::"],u=g(()=>1-c.value*.5),o=y(null),v=()=>{o.value&&c.value>.2&&o.value?.fireInput?.("wave")};return m(()=>{const i=()=>{c.value>.2&&c.value<.5&&v()},d=n.$subscribe(()=>{i()});return()=>{d()}}),(i,d)=>(b(),C("div",{class:"hero-scene",style:W({opacity:u.value})},[T(s)?(b(),I(q,{key:0,count:60,colors:["#22C55E","#3B82F6","#8B5CF6"],symbols:h,speed:.5,"size-range":[12,24]})):$("",!0),d[0]||(d[0]=D('<div class="hero-orbs" data-v-7e17189b><div class="hero-orb hero-orb--green" data-v-7e17189b></div><div class="hero-orb hero-orb--blue" data-v-7e17189b></div><div class="hero-orb hero-orb--purple" data-v-7e17189b></div></div><div class="hero-mesh" data-v-7e17189b></div><div class="hero-grid" data-v-7e17189b></div>',3))],4))}}),V=P(L,[["__scopeId","data-v-7e17189b"]]);export{V as default};
